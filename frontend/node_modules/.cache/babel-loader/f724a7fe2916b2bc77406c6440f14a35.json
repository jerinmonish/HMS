{"ast":null,"code":"import { useRef } from 'react';\nimport { lastWhere, iteratorNext } from '../helpers/iterator';\nimport { useWidthCalculator } from './useWidthCalculator';\nimport { useFoutDetector } from './useFoutDetector';\nexport function useWidestCompositionForWidth(narrowToWideCompositionsProvider, maxWidth) {\n  var widthCalculator = useWidthCalculator();\n  var containerElementRef = useRef(null);\n  var clearCache = widthCalculator.clearCache;\n  useFoutDetector(function () {\n    return getItemsDomElements(containerElementRef.current);\n  }, clearCache);\n\n  if ('renderNeeded' in widthCalculator) {\n    return {\n      items: widthCalculator.renderNeeded.items,\n      ref: function (containerElement) {\n        widthCalculator.renderNeeded.ref(containerElement);\n        containerElementRef.current = containerElement;\n      },\n      clearCache: clearCache\n    };\n  } else {\n    return {\n      items: getLargestFittingCompositionWithFallback(narrowToWideCompositionsProvider, widthCalculator.calculator, maxWidth),\n      ref: containerElementRef,\n      clearCache: clearCache\n    };\n  }\n}\n\nfunction getLargestFittingCompositionWithFallback(getNarrowToWideCompositions, getCompositionWidth, maxWidth) {\n  var _a, _b;\n\n  var narrowToWideCompositions = getNarrowToWideCompositions();\n  var firstComposition = (_a = iteratorNext(narrowToWideCompositions)) !== null && _a !== void 0 ? _a : [];\n\n  var doesCompositionFit = function (composition) {\n    return getCompositionWidth(composition) < maxWidth;\n  };\n\n  return (_b = lastWhere(narrowToWideCompositions, doesCompositionFit)) !== null && _b !== void 0 ? _b : firstComposition;\n}\n\nfunction getItemsDomElements(viewDomElement) {\n  return viewDomElement && Array.from(viewDomElement.children);\n}","map":{"version":3,"sources":["/home/jerinmonish/Desktop/rs/react/hms/node_modules/react-responsive-pagination/lib/hooks/useWidestCompositionForWidth.js"],"names":["useRef","lastWhere","iteratorNext","useWidthCalculator","useFoutDetector","useWidestCompositionForWidth","narrowToWideCompositionsProvider","maxWidth","widthCalculator","containerElementRef","clearCache","getItemsDomElements","current","items","renderNeeded","ref","containerElement","getLargestFittingCompositionWithFallback","calculator","getNarrowToWideCompositions","getCompositionWidth","_a","_b","narrowToWideCompositions","firstComposition","doesCompositionFit","composition","viewDomElement","Array","from","children"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,SAASC,SAAT,EAAoBC,YAApB,QAAwC,qBAAxC;AACA,SAASC,kBAAT,QAAmC,sBAAnC;AACA,SAASC,eAAT,QAAgC,mBAAhC;AACA,OAAO,SAASC,4BAAT,CAAsCC,gCAAtC,EAAwEC,QAAxE,EAAkF;AACrF,MAAIC,eAAe,GAAGL,kBAAkB,EAAxC;AACA,MAAIM,mBAAmB,GAAGT,MAAM,CAAC,IAAD,CAAhC;AACA,MAAIU,UAAU,GAAGF,eAAe,CAACE,UAAjC;AACAN,EAAAA,eAAe,CAAC,YAAY;AAAE,WAAOO,mBAAmB,CAACF,mBAAmB,CAACG,OAArB,CAA1B;AAA0D,GAAzE,EAA2EF,UAA3E,CAAf;;AACA,MAAI,kBAAkBF,eAAtB,EAAuC;AACnC,WAAO;AACHK,MAAAA,KAAK,EAAEL,eAAe,CAACM,YAAhB,CAA6BD,KADjC;AAEHE,MAAAA,GAAG,EAAE,UAAUC,gBAAV,EAA4B;AAC7BR,QAAAA,eAAe,CAACM,YAAhB,CAA6BC,GAA7B,CAAiCC,gBAAjC;AACAP,QAAAA,mBAAmB,CAACG,OAApB,GAA8BI,gBAA9B;AACH,OALE;AAMHN,MAAAA,UAAU,EAAEA;AANT,KAAP;AAQH,GATD,MAUK;AACD,WAAO;AACHG,MAAAA,KAAK,EAAEI,wCAAwC,CAACX,gCAAD,EAAmCE,eAAe,CAACU,UAAnD,EAA+DX,QAA/D,CAD5C;AAEHQ,MAAAA,GAAG,EAAEN,mBAFF;AAGHC,MAAAA,UAAU,EAAEA;AAHT,KAAP;AAKH;AACJ;;AACD,SAASO,wCAAT,CAAkDE,2BAAlD,EAA+EC,mBAA/E,EAAoGb,QAApG,EAA8G;AAC1G,MAAIc,EAAJ,EAAQC,EAAR;;AACA,MAAIC,wBAAwB,GAAGJ,2BAA2B,EAA1D;AACA,MAAIK,gBAAgB,GAAG,CAACH,EAAE,GAAGnB,YAAY,CAACqB,wBAAD,CAAlB,MAAkD,IAAlD,IAA0DF,EAAE,KAAK,KAAK,CAAtE,GAA0EA,EAA1E,GAA+E,EAAtG;;AACA,MAAII,kBAAkB,GAAG,UAAUC,WAAV,EAAuB;AAC5C,WAAON,mBAAmB,CAACM,WAAD,CAAnB,GAAmCnB,QAA1C;AACH,GAFD;;AAGA,SAAO,CAACe,EAAE,GAAGrB,SAAS,CAACsB,wBAAD,EAA2BE,kBAA3B,CAAf,MAAmE,IAAnE,IAA2EH,EAAE,KAAK,KAAK,CAAvF,GAA2FA,EAA3F,GAAgGE,gBAAvG;AACH;;AACD,SAASb,mBAAT,CAA6BgB,cAA7B,EAA6C;AACzC,SAAOA,cAAc,IAAIC,KAAK,CAACC,IAAN,CAAWF,cAAc,CAACG,QAA1B,CAAzB;AACH","sourcesContent":["import { useRef } from 'react';\nimport { lastWhere, iteratorNext } from '../helpers/iterator';\nimport { useWidthCalculator } from './useWidthCalculator';\nimport { useFoutDetector } from './useFoutDetector';\nexport function useWidestCompositionForWidth(narrowToWideCompositionsProvider, maxWidth) {\n    var widthCalculator = useWidthCalculator();\n    var containerElementRef = useRef(null);\n    var clearCache = widthCalculator.clearCache;\n    useFoutDetector(function () { return getItemsDomElements(containerElementRef.current); }, clearCache);\n    if ('renderNeeded' in widthCalculator) {\n        return {\n            items: widthCalculator.renderNeeded.items,\n            ref: function (containerElement) {\n                widthCalculator.renderNeeded.ref(containerElement);\n                containerElementRef.current = containerElement;\n            },\n            clearCache: clearCache,\n        };\n    }\n    else {\n        return {\n            items: getLargestFittingCompositionWithFallback(narrowToWideCompositionsProvider, widthCalculator.calculator, maxWidth),\n            ref: containerElementRef,\n            clearCache: clearCache,\n        };\n    }\n}\nfunction getLargestFittingCompositionWithFallback(getNarrowToWideCompositions, getCompositionWidth, maxWidth) {\n    var _a, _b;\n    var narrowToWideCompositions = getNarrowToWideCompositions();\n    var firstComposition = (_a = iteratorNext(narrowToWideCompositions)) !== null && _a !== void 0 ? _a : [];\n    var doesCompositionFit = function (composition) {\n        return getCompositionWidth(composition) < maxWidth;\n    };\n    return (_b = lastWhere(narrowToWideCompositions, doesCompositionFit)) !== null && _b !== void 0 ? _b : firstComposition;\n}\nfunction getItemsDomElements(viewDomElement) {\n    return viewDomElement && Array.from(viewDomElement.children);\n}\n"]},"metadata":{},"sourceType":"module"}