{"ast":null,"code":"var _jsxFileName = \"/home/jerinmonish/Desktop/rs/react/hms/src/components/admin/Products/ListProducts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef, Fragment } from \"react\";\nimport { Menu, Transition } from '@headlessui/react';\nimport { Link } from \"react-router-dom\";\nimport 'font-awesome/css/font-awesome.min.css';\nimport axios from \"axios\";\nimport DataTable from 'react-data-table-component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ListProducts = () => {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [totalRows, setTotalRows] = useState(0);\n  const [perPage, setPerPage] = useState(5);\n\n  const fetchUsers = async page => {\n    setLoading(true);\n    const tmpToken = localStorage.getItem('user_token');\n    const headers = {\n      'Accept': 'application/json',\n      'Authorization': `Bearer ${tmpToken}`\n    };\n    const response = await axios.get(`http://127.0.0.1:8000/api/v1/list-products?page=${page}&per_page=${perPage}`, {\n      headers: headers\n    }).then(response => {\n      console.log(response.data);\n      setData(response.data.data);\n      setTotalRows(response.data.total);\n      setLoading(false);\n    });\n  };\n\n  const handlePageChange = page => {\n    fetchUsers(page);\n  };\n\n  const handlePerRowsChange = async (newPerPage, page) => {\n    setLoading(true);\n    const response = await axios.get(`http://127.0.0.1:8000/api/v1/list-products?page=${page}&per_page=${newPerPage}`, {\n      headers: headers\n    });\n    setData(response.data.data);\n    setPerPage(newPerPage);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchUsers(1); // fetch page 1 of users\n  }, []);\n\n  const handleButtonClick = () => {\n    console.log('clicked');\n  };\n\n  const columns = [{\n    name: 'Product Name',\n    selector: row => row.p_name,\n    sortable: true // className:\"text-left text-blue-900\"\n\n  }, {\n    name: 'Status',\n    selector: row => row.available,\n    sortable: true\n  }, {\n    name: 'Amount',\n    selector: row => row.p_amt,\n    sortable: true\n  }, {\n    name: 'Action',\n    key: \"action\",\n    className: \"action\",\n    width: 100,\n    align: \"left\",\n    sortable: false,\n    cell: record => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleButtonClick(),\n          className: \"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-eye\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 146\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 19\n        }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 108\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 19\n        }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-trash\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 106\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }, this);\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container w-full mx-auto pt-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full px-4 md:px-0 md:mt-8 mb-16 text-gray-800 leading-normal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-row flex-wrap flex-grow mt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full p-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border rounded shadow\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"font-bold uppercase text-gray-600\",\n                children: [\"List Product\", /*#__PURE__*/_jsxDEV(Link, {\n                  to: '/admin/add-product',\n                  className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded float-right\\t\",\n                  children: \"Add Product\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-5\",\n              children: /*#__PURE__*/_jsxDEV(DataTable // title=\"Users\"\n              , {\n                columns: columns,\n                data: data,\n                progressPending: loading,\n                pagination: true,\n                paginationServer: true,\n                paginationTotalRows: totalRows,\n                onChangeRowsPerPage: handlePerRowsChange,\n                onChangePage: handlePageChange,\n                className: \"w-full p-5 text-gray-700\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 7\n  }, this);\n};\n\n_s(ListProducts, \"5yYrr31YEQW2DPN2i6Y89TtjZ/A=\");\n\n_c = ListProducts;\nexport default ListProducts;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListProducts\");","map":{"version":3,"sources":["/home/jerinmonish/Desktop/rs/react/hms/src/components/admin/Products/ListProducts.js"],"names":["React","useEffect","useState","useRef","Fragment","Menu","Transition","Link","axios","DataTable","ListProducts","data","setData","loading","setLoading","totalRows","setTotalRows","perPage","setPerPage","fetchUsers","page","tmpToken","localStorage","getItem","headers","response","get","then","console","log","total","handlePageChange","handlePerRowsChange","newPerPage","handleButtonClick","columns","name","selector","row","p_name","sortable","available","p_amt","key","className","width","align","cell","record"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef, Fragment } from \"react\";\nimport { Menu, Transition } from '@headlessui/react'\nimport { Link } from \"react-router-dom\";\nimport 'font-awesome/css/font-awesome.min.css';\nimport axios from \"axios\";\nimport DataTable from 'react-data-table-component';\n\n\nconst ListProducts = () => {\n  \n  const [data, setData] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [totalRows, setTotalRows] = useState(0);\n\tconst [perPage, setPerPage] = useState(5);\n\n\tconst fetchUsers = async page => {\n\t\tsetLoading(true);\n    const tmpToken = localStorage.getItem('user_token');\n    const headers = {\n      'Accept': 'application/json',\n      'Authorization': `Bearer ${tmpToken}`\n    }\n\t\tconst response = await axios.get(`http://127.0.0.1:8000/api/v1/list-products?page=${page}&per_page=${perPage}`,{headers: headers})\n    .then((response)=> {\n      console.log(response.data);\n      setData(response.data.data);\n      setTotalRows(response.data.total);\n      setLoading(false);\n    });\n\t};\n\n\tconst handlePageChange = page => {\n\t\tfetchUsers(page);\n\t};\n\n\tconst handlePerRowsChange = async (newPerPage, page) => {\n\t\tsetLoading(true);\n\n\t\tconst response = await axios.get(`http://127.0.0.1:8000/api/v1/list-products?page=${page}&per_page=${newPerPage}`,{headers: headers});\n\n\t\tsetData(response.data.data);\n\t\tsetPerPage(newPerPage);\n\t\tsetLoading(false);\n\t};\n\n\tuseEffect(() => {\n\t\tfetchUsers(1); // fetch page 1 of users\n\t\t\n\t}, []);\n  const handleButtonClick = () => {\n\t\t\n\t\tconsole.log('clicked');\n\t};\n  const columns = [\n    {\n      name: 'Product Name',\n      selector: row => row.p_name,\n      sortable: true,\n      // className:\"text-left text-blue-900\"\n    },\n    {\n      name: 'Status',\n      selector: row => row.available,\n      sortable: true,\n    },\n    {\n      name: 'Amount',\n      selector: row => row.p_amt,\n      sortable: true,\n    },\n    {\n      name: 'Action',\n      key: \"action\",\n      className: \"action\",\n      width: 100,\n      align: \"left\",\n      sortable: false,\n      cell: record => { \n          return (\n              <div>\n                  <button onClick={()=>handleButtonClick()} className=\"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded\"><i className=\"fa fa-eye\"></i></button>&nbsp;&nbsp;\n                  <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"><i className=\"fa fa-edit\"></i></button>&nbsp;&nbsp;\n                  <button className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded\"><i className=\"fa fa-trash\"></i></button>\n              </div>\n          );\n      }\n    }\n];\n  return (\n      <div className=\"container w-full mx-auto pt-20\">\n        <div className=\"w-full px-4 md:px-0 md:mt-8 mb-16 text-gray-800 leading-normal\">\n          <div className=\"flex flex-row flex-wrap flex-grow mt-2\">\n            <div className=\"w-full p-3\">\n              <div className=\"bg-white border rounded shadow\">\n                <div className=\"border-b p-3\">\n                  <h5 className=\"font-bold uppercase text-gray-600\">\n                    List Product\n                    <Link to={'/admin/add-product'} className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded float-right\t\">Add Product</Link>\n                  </h5>\n                </div>\n                <div className=\"p-5\">\n                  <DataTable\n                    // title=\"Users\"\n                    columns={columns}\n                    data={data}\n                    progressPending={loading}\n                    pagination\n                    paginationServer\n                    paginationTotalRows={totalRows}\n                    onChangeRowsPerPage={handlePerRowsChange}\n                    onChangePage={handlePageChange}\n                    className=\"w-full p-5 text-gray-700\"\n                  />\n                  {/* <p className=\"py-2\"><a href=\"#\">See More issues...</a></p> */}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n  )\n}\nexport default ListProducts"]},"metadata":{},"sourceType":"module"}